
@model X.PagedList.IPagedList<WebMoHinh.Models.Product>
@using X.PagedList.Mvc.Core
@{
    ViewData["Title"] = "Trang Chủ";
    int numOfQuantity = 1;
}

<section class="py-5">
    <section id="Slider">
        <div class="aspect-ratio-169">
            <img src="~/images/1.jpg" alt="Slide 1" />
            <img src="~/images/2.jpg" alt="Slide 2" />
            <img src="~/images/3.jpg" alt="Slide 3" />
            <img src="~/images/4.jpg" alt="Slide 4" />
        </div>
        <div class="dot-container">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
            <span class="dot" onclick="currentSlide(4)"></span>
        </div>
    </section>
    <div class="container">
        <div class="row mb-4">
            <div class="col">
                <form asp-controller="Product" asp-action="Search" method="get" class="search-form">
                    <div class="input-group">
                        <input type="text" name="query" class="form-control" placeholder="Tìm sản phẩm">
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </form>
 
            </div>
        </div>
         

        <div class="row row-cols-1 row-cols-md-5 g-4">
            @foreach (var item in Model)
            {
                <div class="col">
                    <div class="card h-100 product-card">
                        <img src="@item.ImageUrl" class="card-img-top book-image" alt="@item.Name">
                        <div class="card-body">
                            <h5 class="card-title">@item.Name</h5>
                        </div>
                        <div class="card-footer">
                            <div class="price-buttons d-flex justify-content-between align-items-center">
                                <div class="price price-changing-color" id="price-@item.Id">
                                    <p class="mb-0" font-weight>Giá: @item.Price.ToString("#,##0").000 Vnđ</p>
                                </div>
                                <div class="buttons">
                                    <a href="@Url.Action("Display", "Product", new { id = item.Id })" class="btn btn-secondary btn-view-details">Chi tiết</a>
                                    <a asp-controller="ShoppingCart" asp-action="AddToCart" asp-route-productId="@item.Id"
                                       asp-route-quantity="@numOfQuantity" class="btn btn-dark btn-add-to-cart">
                                        <i class="bi-cart-fill me-1"></i> Thêm vào giỏ
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>
<div>
    @Html.PagedListPager(Model, page => @Url.Action("Index", "Home", new { page = page }))
</div>
<style>
    /*banner slidebar*/
    * {
        box-sizing: border-box;
    }

    #Slider {
        position: relative;
        max-width: 100%;
        margin: auto;
  
        overflow: hidden;
        height: 800px; /* Chiều cao của banner slider */
    }

    .aspect-ratio-169 {
        display: flex;
        transition: transform 0.5s ease-in-out;
    }

        .aspect-ratio-169 img {
            width: 100%;
            height: 100%; /* Điều chinh để ảnh tự động căn chinh chiều cao */
            object-fit: cover; /* Đảm bảo ảnh bao phủ toàn bộ container */
            flex: 0 0 100%; /* Đảm bảo mỗi ảnh chiếm toàn bộ không gian container */
        }

    .dot-container {
        text-align: center;
        position: absolute;
        bottom: 15px;
        width: 100%;
    }

    .dot {
        height: 15px;
        width: 15px;
        margin: 0 5px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        transition: background-color 0.6s ease;
        cursor: pointer;
    }

        .dot.active {
            background-color: #717171;
        }

    /* Định dạng form tìm kiếm */
    .search-form {
        margin-top: 30px;
        display: flex; /* Sử dụng flexbox để căn giữa form */
        justify-content: center; /* Căn giữa theo chiều ngang */
       
    }

    /* Định dạng nhóm input trong form tìm kiếm */
    .input-group {
        display: flex; /* Sử dụng flexbox để căn giữa nội dung */
        align-items: center; /* Căn giữa theo chiều dọc */
        max-width: 300px; /* Giới hạn chiều rộng tối đa */
        width: 100%; /* Chiều rộng tự động mở rộng */
    }

    /* Định dạng input trong form tìm kiếm */
    .form-control {
        flex: 1; /* Cho phép input mở rộng để chiếm hết không gian trống */
        padding: 10px; /* Khoảng cách bên trong */
        border: 2px solid #ccc; /* Viền */
        border-radius: 20px 0 0 20px; /* Bo tròn góc bên trái */
        outline: none; /* Loại bỏ viền khi được focus */
        transition: border-color 0.3s; /* Hiệu ứng chuyển đổi màu viền */
    }

        /* Định dạng viền khi input được focus */
        .form-control:focus {
            border-color: #007bff; /* Màu viền khi focus */
        }

    /* Định dạng nút submit trong form tìm kiếm */
    .btn-primary {
        background-color: #007bff; /* Màu nền */
        border: none; /* Loại bỏ viền */
        border-radius: 0 20px 20px 0; /* Bo tròn góc bên phải */
        color: #fff; /* Màu chữ */
        padding: 10px; /* Khoảng cách bên trong */
        cursor: pointer; /* Con trỏ chuột */
        transition: background-color 0.3s; /* Hiệu ứng chuyển đổi màu nền */
    }

        /* Định dạng nút submit khi hover */
        .btn-primary:hover {
            background-color: #0056b3; /* Màu nền khi hover */
        }

    /* Định dạng icon tìm kiếm */
    .bi-search {
        font-size: 1.2rem; /* Kích thước font */
    }

/*     /* Định dạng nút tìm theo thể loại */
    .btn-search-category {
        font-size: 14px; /* Kích thước font */
        padding: 8px 16px; /* Khoảng cách bên trong */
        border: 2px solid #007bff; /* Màu viền */
        border-radius: 20px; /* Bo tròn góc */
        color: #007bff; /* Màu chữ */
        background-color: transparent; /* Màu nền trong suốt */
        cursor: pointer; /* Con trỏ chuột */
        transition: all 0.3s ease; /* Hiệu ứng chuyển đổi */
        text-decoration: none; /* Loại bỏ gạch chân mặc định */
    } */

        /* Định dạng nút tìm theo thể loại khi hover */
        .btn-search-category:hover {
            background-color: #007bff; /* Màu nền khi hover */
            color: #fff; /* Màu chữ khi hover */
            text-decoration: none; /* Loại bỏ gạch chân khi hover */
        }


    /* Định dạng phân trang */
    .pagination {
        display: flex; /* Sử dụng flexbox để căn giữa nội dung */
        justify-content: center; /* Căn giữa theo chiều ngang */
        margin-top: 10px; /* Khoảng cách phía trên */
        margin-bottom: 320px;
 
    }

        /* Định dạng liên kết và span trong phân trang */
        .pagination a, .pagination span {
            color: #007bff; /* Màu chữ */
            padding: 10px 15px; /* Khoảng cách bên trong */
            text-decoration: none; /* Loại bỏ gạch chân */
            border: 1px solid #ddd; /* Viền */
            margin: 0 5px; /* Khoảng cách giữa các nút */
            border-radius: 5px; /* Bo tròn góc */
            transition: background-color 0.3s, color 0.3s; /* Hiệu ứng chuyển đổi màu nền và màu chữ */
        }

            /* Định dạng liên kết khi hover */
            .pagination a:hover {
                background-color: #007bff; /* Màu nền khi hover */
                color: #fff; /* Màu chữ khi hover */
                border-color: #007bff; /* Màu viền khi hover */
            }

        /* Định dạng trang hiện tại */
        .pagination .active span {
            background-color: #007bff; /* Màu nền */
            color: white; /* Màu chữ */
            border-color: #007bff; /* Màu viền */
        }

        /* Định dạng các nút không khả dụng */
        .pagination .disabled span {
            color: #ddd; /* Màu chữ */
            cursor: not-allowed; /* Con trỏ không cho phép */
        }
</style>
<script>
    let slideIndex = 0;
    showSlides();

    function showSlides() {
        let slides = document.querySelectorAll('.aspect-ratio-169 img');
        let dots = document.querySelectorAll('.dot');
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) { slideIndex = 1 }
        for (let i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
        setTimeout(showSlides, 6000); // Thay đổi slide sau mỗi 6 giây
    }

    function currentSlide(n) {
        slideIndex = n;
        showSlides();
    }
</script>